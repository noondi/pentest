#!/bin/bash
NC='\033[0m'; # No Color
LRED='\033[1;31m';
ORANGE='\033[0;33m';
LGREEN='\033[1;32m';
GREEN='\033[0;32m';
cmdTITLE='';
cmdRESPONSE='';

operatingSYSTEM(){
  cmdTITLE="OPERATING SYSTEM";
  cmdSTATUStitle;

  # distribution
  cmdSUBTITLE="Distribution";
  cmdRESPONSE=$(if [ -f /etc/*_version ]; then cat /etc/*_version 2>&1; else /etc/*-release 2>&1; fi);
  cmdSTATUSsubtitle;

  # kernel
  cmdSUBTITLE="Kernel";
  cmdRESPONSE=$(if [ -f /proc/version ]; then cat /proc/version 2>&1; else uname -a 2>&1; fi);
  cmdSTATUSsubtitle;

  # environments
  cmdSUBTITLE="Environment Variables";
  cmdRESPONSE=$(env | grep -v "LS_COLORS" 2>&1;);
  cmdSTATUSsubtitle;

  # printer
  cmdSUBTITLE="Printer";
  cmdRESPONSE=$(lpstat -a 2>&1;);
  cmdSTATUSsubtitle;
}

fileSYSTEMS(){
  cmdTITLE="FILE SYSTEMS";
  cmdSTATUStitle;
}

userACCOUNTS(){
  cmdTITLE="USERS";
  cmdSTATUStitle;

  # list id
  cmdSUBTITLE="My ID";
  cmdRESPONSE=$(id);
  cmdSTATUSsubtitle;

  # who is on the system
  cmdSUBTITLE="Who's logged";
  cmdRESPONSE=$(who; w);
  cmdSTATUSsubtitle;

  # who logged last on the system
  cmdSUBTITLE="List of users";
  cmdRESPONSE=$(cat /etc/passwd);
  cmdSTATUSsubtitle;

  # list users
  cmdSUBTITLE="Who's logged last";
  cmdRESPONSE=$(last);
  cmdSTATUSsubtitle;

  # list root accounts
  cmdSUBTITLE="Root accounts";
  cmdRESPONSE=$(cat /etc/passwd | awk -F: '($3 == 0) { print $1 }');
  cmdSTATUSsubtitle;
}

appLICATIONS(){
  cmdTITLE="APPLICATIONS";
  cmdSTATUStitle;
}

servICES(){
  cmdTITLE="SERVICES";
  cmdSTATUStitle;

  # crons
}

netWORK(){
  cmdTITLE="NETWORK";
  cmdSTATUStitle;

  # nic
  cmdSUBTITLE="Network Interfaces";
  cmdRESPONSE=$(if [ -f ifconfig ]; then cat ifconfig 2>&1; else ip a 2>&1; fi);
  cmdSTATUSsubtitle;

  # dns resolver
  cmdSUBTITLE="DNS Resolver";
  cmdRESPONSE=$(cat /etc/resolv.conf 2>&1;);
  cmdSTATUSsubtitle;

  # hostname
  cmdSUBTITLE="Hostname";
  cmdRESPONSE=$(hostname 2>&1;);
  cmdSTATUSsubtitle;
}

cmdSTATUStitle(){
  echo -e "${LGREEN}=============================================";
  echo -e "${LGREEN}[*] $cmdTITLE...";
  echo -e "${LGREEN}=============================================${NC}";
}

cmdSTATUSsubtitle(){
  if [ $? -eq 0 ]; then
    echo -e "${LGREEN}[+] $cmdSUBTITLE${GREEN}";
    printf "$cmdRESPONSE\n\n";
  else
    echo -e "${LRED}[!] $cmdSUBTITLE${ORANGE}";
    printf "$cmdRESPONSE\n\n";
  fi
}

start(){
  operatingSYSTEM;
  netWORK;
}

start;
